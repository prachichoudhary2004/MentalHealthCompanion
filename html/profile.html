<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SoulZen â€¢ Profile</title>
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet" />
  <link href="../style.css" rel="stylesheet" />
</head>
<body>
  <div class="navbar navbar-expand-lg bg-dark navbar-dark nav-sticky" id="navbar">
    <div class="container-fluid">
      <div id="logo">
        <a href="../frontend/index.html"><img src="../images file/pic.jpg" alt="logo"></a>
      </div>
      <a href="../frontend/index.html" class="navbar-brand">S<span>oul</span>Z<span>en</span></a>
      <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbarCollapse">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse justify-content-between" id="navbarCollapse">
        <div class="navbar-nav ml-auto" id="mynav">
          <a href="../frontend/index.html#hero" class="nav-item nav-link">Home</a>
          <a href="../frontend/index.html#about" class="nav-item nav-link">About</a>
          <a href="../frontend/index.html#feature" class="nav-item nav-link">Features</a>
          <a href="./games.html" class="nav-item nav-link">Relaxing Games</a>
          <a href="./therapists.html" class="nav-item nav-link">Therapist Finder</a>
          <a href="#" class="nav-item nav-link active">Profile</a>
        </div>
      </div>
    </div>
  </div>

  <div class="container" style="margin-top:100px;max-width:800px;">
    <div class="card shadow-sm p-4" style="border:0;border-radius:16px;box-shadow:0 12px 24px rgba(0,0,0,.06);background:linear-gradient(180deg,#ffffff, #f9fbff)">
      <h3 class="mb-3">Your Profile</h3>
      <div id="profile-info" class="mb-3">Loading...</div>
      <button id="logout" class="btn btn-outline-danger">Logout</button>
    </div>
  </div>

  <script src="../scripts/api.js"></script>
  <script>
    (async function(){
      try{
        const me = await window.api.request('/api/auth/me', { method:'GET', auth:true });
        document.getElementById('profile-info').innerHTML = `
          <div><strong>Name:</strong> ${me.user?.name || ''}</div>
          <div><strong>Email:</strong> ${me.user?.email || ''}</div>
        `;
      }catch(err){
        document.getElementById('profile-info').textContent = 'Please login to view your profile.';
      }
      document.getElementById('logout').addEventListener('click', function(){
        localStorage.removeItem('token');
        window.location.href = './Login.html';
      });
    })();
  </script>
</body>
</html>
